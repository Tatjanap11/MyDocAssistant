{"spans": [{"name": "RetrievalQA", "context": {"span_id": "0x70d9870ada4cdf76", "trace_id": "0x6d5edeeffcae3bf948cc962bb73d486e"}, "parent_id": null, "start_time": 1728410995043941700, "end_time": 1728410997315717100, "status_code": "OK", "status_message": "", "attributes": {"mlflow.traceRequestId": "\"b59de8bbed494b58bc74d6baaca272dd\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"query\": \"How to check if an endpoint is KMS encrypted?\", \"context\": [{\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-resource-sagemaker-endpointconfig.md\", \"_id\": \"fabb778c-b6bd-4d39-bfd0-9d6b99be7472\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The Amazon Resource Name (ARN) of an AWS Key Management Service key that Amazon SageMaker uses to encrypt data on the storage volume attached to the ML compute instance that hosts the endpoint. + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias The KMS key policy must grant permission to the IAM role that you specify in your CreateEndpoint, UpdateEndpoint requests. For more information, refer to the AWS Key Management Service section Using Key Policies in AWS KMS Certain Nitro-based instances include local storage, dependent on the instance type. Local storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-properties-sagemaker-endpointconfig-datacaptureconfig.md\", \"_id\": \"4a7605f8-efdc-4916-a99a-18a2be2256d9\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the captured data at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab Alias name: alias/ExampleAlias Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys (https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingKMSEncryption.html) in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-resource-sagemaker-endpointconfig.md\", \"_id\": \"5cf80f30-d72d-4aaf-b2a5-efd3de022778\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"Local storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local storage. If any of the models that you specify in the ProductionVariants parameter use nitro-based instances with local storage, do not specify a value for the KmsKeyId parameter. If you specify a value for KmsKeyId when using any nitro-based instances with local storage, the call to CreateEndpointConfig fails. For a list of instance types that support local instance storage, see Instance Store Volumes. For more information about local instance storage encryption, see SSD Instance Store Volumes. Required: No Type: String Maximum: 2048 Pattern: .* Update requires: Replacement\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-properties-sagemaker-modelpackage-transformoutput.md\", \"_id\": \"73c3e027-2392-4543-91af-52b343b54d10\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the model artifacts at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel request. For more information, see Using Key Policies in AWS KMS in the * AWS Key Management Service Developer Guide. Required: No\", \"type\": \"Document\"}]}", "mlflow.spanOutputs": "{\"result\": \"To check if an Amazon SageMaker endpoint is KMS encrypted, you can follow these steps:\\n\\n1. Open the Amazon SageMaker console in your AWS Management Console.\\n2. Navigate to the \\\"Endpoints\\\" section under the \\\"Inference\\\" tab.\\n3. Select the endpoint that you want to check.\\n4. In the details section of the endpoint, look for the \\\"Production variants\\\" tab.\\n5. In the \\\"Production variants\\\" tab, select the variant that your endpoint is using.\\n6. In the details section of the variant, look for the \\\"Model artifacts\\\" or \\\"Data storage\\\" section.\\n7. If the \\\"KmsKeyId\\\" is specified and not blank, then the endpoint is KMS encrypted. The \\\"KmsKeyId\\\" could be in one of the following formats:\\n   - Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Alias name: alias/ExampleAlias\\n   - Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias\\n\\nIf the \\\"KmsKeyId\\\" is not specified or is blank, then the endpoint is not KMS encrypted. Instead, it might be using the default KMS key for Amazon S3 for your role's account.\\n\\nAdditionally, if you are using nitro-based instances with local storage, you cannot specify a \\\"KmsKeyId\\\" for the endpoint. In this case, if you see a \\\"KmsKeyId\\\" specified for the endpoint, it might indicate a configuration issue or an error in creating the endpoint.\"}"}, "events": []}, {"name": "VectorStoreRetriever", "context": {"span_id": "0xf895c598c64a86ae", "trace_id": "0x6d5edeeffcae3bf948cc962bb73d486e"}, "parent_id": "0x70d9870ada4cdf76", "start_time": 1728410995044943000, "end_time": 1728410996095841000, "status_code": "OK", "status_message": "", "attributes": {"mlflow.traceRequestId": "\"b59de8bbed494b58bc74d6baaca272dd\"", "mlflow.spanType": "\"RETRIEVER\"", "metadata": "{\"ls_retriever_name\": \"vectorstore\", \"ls_vector_store_provider\": \"QdrantVectorStore\", \"ls_embedding_provider\": \"OpenAIEmbeddings\"}", "mlflow.spanInputs": "\"How to check if an endpoint is KMS encrypted?\"", "mlflow.spanOutputs": "[{\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-resource-sagemaker-endpointconfig.md\", \"_id\": \"fabb778c-b6bd-4d39-bfd0-9d6b99be7472\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The Amazon Resource Name (ARN) of an AWS Key Management Service key that Amazon SageMaker uses to encrypt data on the storage volume attached to the ML compute instance that hosts the endpoint. + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias The KMS key policy must grant permission to the IAM role that you specify in your CreateEndpoint, UpdateEndpoint requests. For more information, refer to the AWS Key Management Service section Using Key Policies in AWS KMS Certain Nitro-based instances include local storage, dependent on the instance type. Local storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-properties-sagemaker-endpointconfig-datacaptureconfig.md\", \"_id\": \"4a7605f8-efdc-4916-a99a-18a2be2256d9\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the captured data at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab Alias name: alias/ExampleAlias Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys (https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingKMSEncryption.html) in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-resource-sagemaker-endpointconfig.md\", \"_id\": \"5cf80f30-d72d-4aaf-b2a5-efd3de022778\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"Local storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local storage. If any of the models that you specify in the ProductionVariants parameter use nitro-based instances with local storage, do not specify a value for the KmsKeyId parameter. If you specify a value for KmsKeyId when using any nitro-based instances with local storage, the call to CreateEndpointConfig fails. For a list of instance types that support local instance storage, see Instance Store Volumes. For more information about local instance storage encryption, see SSD Instance Store Volumes. Required: No Type: String Maximum: 2048 Pattern: .* Update requires: Replacement\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-properties-sagemaker-modelpackage-transformoutput.md\", \"_id\": \"73c3e027-2392-4543-91af-52b343b54d10\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the model artifacts at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel request. For more information, see Using Key Policies in AWS KMS in the * AWS Key Management Service Developer Guide. Required: No\", \"type\": \"Document\"}]"}, "events": []}, {"name": "StuffDocumentsChain", "context": {"span_id": "0xa33b8bd070c065b6", "trace_id": "0x6d5edeeffcae3bf948cc962bb73d486e"}, "parent_id": "0x70d9870ada4cdf76", "start_time": 1728410996097839900, "end_time": 1728410997314717700, "status_code": "OK", "status_message": "", "attributes": {"mlflow.traceRequestId": "\"b59de8bbed494b58bc74d6baaca272dd\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"input_documents\": [{\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-resource-sagemaker-endpointconfig.md\", \"_id\": \"fabb778c-b6bd-4d39-bfd0-9d6b99be7472\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The Amazon Resource Name (ARN) of an AWS Key Management Service key that Amazon SageMaker uses to encrypt data on the storage volume attached to the ML compute instance that hosts the endpoint. + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias The KMS key policy must grant permission to the IAM role that you specify in your CreateEndpoint, UpdateEndpoint requests. For more information, refer to the AWS Key Management Service section Using Key Policies in AWS KMS Certain Nitro-based instances include local storage, dependent on the instance type. Local storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-properties-sagemaker-endpointconfig-datacaptureconfig.md\", \"_id\": \"4a7605f8-efdc-4916-a99a-18a2be2256d9\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the captured data at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab Alias name: alias/ExampleAlias Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys (https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingKMSEncryption.html) in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-resource-sagemaker-endpointconfig.md\", \"_id\": \"5cf80f30-d72d-4aaf-b2a5-efd3de022778\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"Local storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local storage. If any of the models that you specify in the ProductionVariants parameter use nitro-based instances with local storage, do not specify a value for the KmsKeyId parameter. If you specify a value for KmsKeyId when using any nitro-based instances with local storage, the call to CreateEndpointConfig fails. For a list of instance types that support local instance storage, see Instance Store Volumes. For more information about local instance storage encryption, see SSD Instance Store Volumes. Required: No Type: String Maximum: 2048 Pattern: .* Update requires: Replacement\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-properties-sagemaker-modelpackage-transformoutput.md\", \"_id\": \"73c3e027-2392-4543-91af-52b343b54d10\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the model artifacts at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel request. For more information, see Using Key Policies in AWS KMS in the * AWS Key Management Service Developer Guide. Required: No\", \"type\": \"Document\"}], \"question\": \"How to check if an endpoint is KMS encrypted?\"}", "mlflow.spanOutputs": "{\"output_text\": \"To check if an Amazon SageMaker endpoint is KMS encrypted, you can follow these steps:\\n\\n1. Open the Amazon SageMaker console in your AWS Management Console.\\n2. Navigate to the \\\"Endpoints\\\" section under the \\\"Inference\\\" tab.\\n3. Select the endpoint that you want to check.\\n4. In the details section of the endpoint, look for the \\\"Production variants\\\" tab.\\n5. In the \\\"Production variants\\\" tab, select the variant that your endpoint is using.\\n6. In the details section of the variant, look for the \\\"Model artifacts\\\" or \\\"Data storage\\\" section.\\n7. If the \\\"KmsKeyId\\\" is specified and not blank, then the endpoint is KMS encrypted. The \\\"KmsKeyId\\\" could be in one of the following formats:\\n   - Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Alias name: alias/ExampleAlias\\n   - Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias\\n\\nIf the \\\"KmsKeyId\\\" is not specified or is blank, then the endpoint is not KMS encrypted. Instead, it might be using the default KMS key for Amazon S3 for your role's account.\\n\\nAdditionally, if you are using nitro-based instances with local storage, you cannot specify a \\\"KmsKeyId\\\" for the endpoint. In this case, if you see a \\\"KmsKeyId\\\" specified for the endpoint, it might indicate a configuration issue or an error in creating the endpoint.\"}"}, "events": []}, {"name": "LLMChain", "context": {"span_id": "0x0646acc273847e97", "trace_id": "0x6d5edeeffcae3bf948cc962bb73d486e"}, "parent_id": "0xa33b8bd070c065b6", "start_time": 1728410996099840500, "end_time": 1728410997313722500, "status_code": "OK", "status_message": "", "attributes": {"mlflow.traceRequestId": "\"b59de8bbed494b58bc74d6baaca272dd\"", "mlflow.spanType": "\"CHAIN\"", "mlflow.spanInputs": "{\"question\": \"How to check if an endpoint is KMS encrypted?\", \"context\": \"KmsKeyId The Amazon Resource Name (ARN) of an AWS Key Management Service key that Amazon SageMaker uses to encrypt data on the storage volume attached to the ML compute instance that hosts the endpoint. + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias The KMS key policy must grant permission to the IAM role that you specify in your CreateEndpoint, UpdateEndpoint requests. For more information, refer to the AWS Key Management Service section Using Key Policies in AWS KMS Certain Nitro-based instances include local storage, dependent on the instance type. Local storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local\\n\\nKmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the captured data at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab Alias name: alias/ExampleAlias Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys (https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingKMSEncryption.html) in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel\\n\\nLocal storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local storage. If any of the models that you specify in the ProductionVariants parameter use nitro-based instances with local storage, do not specify a value for the KmsKeyId parameter. If you specify a value for KmsKeyId when using any nitro-based instances with local storage, the call to CreateEndpointConfig fails. For a list of instance types that support local instance storage, see Instance Store Volumes. For more information about local instance storage encryption, see SSD Instance Store Volumes. Required: No Type: String Maximum: 2048 Pattern: .* Update requires: Replacement\\n\\nKmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the model artifacts at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel request. For more information, see Using Key Policies in AWS KMS in the * AWS Key Management Service Developer Guide. Required: No\"}", "mlflow.spanOutputs": "{\"text\": \"To check if an Amazon SageMaker endpoint is KMS encrypted, you can follow these steps:\\n\\n1. Open the Amazon SageMaker console in your AWS Management Console.\\n2. Navigate to the \\\"Endpoints\\\" section under the \\\"Inference\\\" tab.\\n3. Select the endpoint that you want to check.\\n4. In the details section of the endpoint, look for the \\\"Production variants\\\" tab.\\n5. In the \\\"Production variants\\\" tab, select the variant that your endpoint is using.\\n6. In the details section of the variant, look for the \\\"Model artifacts\\\" or \\\"Data storage\\\" section.\\n7. If the \\\"KmsKeyId\\\" is specified and not blank, then the endpoint is KMS encrypted. The \\\"KmsKeyId\\\" could be in one of the following formats:\\n   - Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Alias name: alias/ExampleAlias\\n   - Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias\\n\\nIf the \\\"KmsKeyId\\\" is not specified or is blank, then the endpoint is not KMS encrypted. Instead, it might be using the default KMS key for Amazon S3 for your role's account.\\n\\nAdditionally, if you are using nitro-based instances with local storage, you cannot specify a \\\"KmsKeyId\\\" for the endpoint. In this case, if you see a \\\"KmsKeyId\\\" specified for the endpoint, it might indicate a configuration issue or an error in creating the endpoint.\"}"}, "events": [{"name": "text", "timestamp": 1728410996101233, "attributes": {"text": "Prompt after formatting:\n\u001b[32;1m\u001b[1;3m\n<|begin_of_text|>\n<|start_header_id|>system<|end_header_id|> \nYou are an AI assistant that helps users with answering queries about documentation. You have access to a large collection of documents \nfrom AWS documentation, particularly SageMaker and have to answer in details and explain clearly.\n <|eot_id|>\n<|start_header_id|>user<|end_header_id|> \nPlease answer my question about AWS documentation only based on provided context.\n\n\n-----------\nThis is the context:\nKmsKeyId The Amazon Resource Name (ARN) of an AWS Key Management Service key that Amazon SageMaker uses to encrypt data on the storage volume attached to the ML compute instance that hosts the endpoint. + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias The KMS key policy must grant permission to the IAM role that you specify in your CreateEndpoint, UpdateEndpoint requests. For more information, refer to the AWS Key Management Service section Using Key Policies in AWS KMS Certain Nitro-based instances include local storage, dependent on the instance type. Local storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local\n\nKmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the captured data at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab Alias name: alias/ExampleAlias Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys (https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingKMSEncryption.html) in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel\n\nLocal storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local storage. If any of the models that you specify in the ProductionVariants parameter use nitro-based instances with local storage, do not specify a value for the KmsKeyId parameter. If you specify a value for KmsKeyId when using any nitro-based instances with local storage, the call to CreateEndpointConfig fails. For a list of instance types that support local instance storage, see Instance Store Volumes. For more information about local instance storage encryption, see SSD Instance Store Volumes. Required: No Type: String Maximum: 2048 Pattern: .* Update requires: Replacement\n\nKmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the model artifacts at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel request. For more information, see Using Key Policies in AWS KMS in the * AWS Key Management Service Developer Guide. Required: No\n\n-----------\nThis is the question:\nHow to check if an endpoint is KMS encrypted?\n<|eot_id|>\n\n<|start_header_id|>assistant<|end_header_id|>\n\u001b[0m"}}]}, {"name": "ChatGroq", "context": {"span_id": "0x4e2cb1952edc9067", "trace_id": "0x6d5edeeffcae3bf948cc962bb73d486e"}, "parent_id": "0x0646acc273847e97", "start_time": 1728410996107242600, "end_time": 1728410997313722500, "status_code": "OK", "status_message": "", "attributes": {"mlflow.traceRequestId": "\"b59de8bbed494b58bc74d6baaca272dd\"", "mlflow.spanType": "\"CHAT_MODEL\"", "invocation_params": "{\"_type\": \"groq-chat\", \"stop\": null}", "options": "{\"stop\": null}", "batch_size": "1", "metadata": "{\"ls_provider\": \"groq\", \"ls_model_name\": \"mixtral-8x7b-32768\", \"ls_model_type\": \"chat\", \"ls_temperature\": 1e-08, \"ls_max_tokens\": 2048}", "mlflow.spanInputs": "[[{\"content\": \"\\n<|begin_of_text|>\\n<|start_header_id|>system<|end_header_id|> \\nYou are an AI assistant that helps users with answering queries about documentation. You have access to a large collection of documents \\nfrom AWS documentation, particularly SageMaker and have to answer in details and explain clearly.\\n <|eot_id|>\\n<|start_header_id|>user<|end_header_id|> \\nPlease answer my question about AWS documentation only based on provided context.\\n\\n\\n-----------\\nThis is the context:\\nKmsKeyId The Amazon Resource Name (ARN) of an AWS Key Management Service key that Amazon SageMaker uses to encrypt data on the storage volume attached to the ML compute instance that hosts the endpoint. + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias The KMS key policy must grant permission to the IAM role that you specify in your CreateEndpoint, UpdateEndpoint requests. For more information, refer to the AWS Key Management Service section Using Key Policies in AWS KMS Certain Nitro-based instances include local storage, dependent on the instance type. Local storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local\\n\\nKmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the captured data at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab Alias name: alias/ExampleAlias Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys (https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingKMSEncryption.html) in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel\\n\\nLocal storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local storage. If any of the models that you specify in the ProductionVariants parameter use nitro-based instances with local storage, do not specify a value for the KmsKeyId parameter. If you specify a value for KmsKeyId when using any nitro-based instances with local storage, the call to CreateEndpointConfig fails. For a list of instance types that support local instance storage, see Instance Store Volumes. For more information about local instance storage encryption, see SSD Instance Store Volumes. Required: No Type: String Maximum: 2048 Pattern: .* Update requires: Replacement\\n\\nKmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the model artifacts at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel request. For more information, see Using Key Policies in AWS KMS in the * AWS Key Management Service Developer Guide. Required: No\\n\\n-----------\\nThis is the question:\\nHow to check if an endpoint is KMS encrypted?\\n<|eot_id|>\\n\\n<|start_header_id|>assistant<|end_header_id|>\\n\", \"additional_kwargs\": {}, \"response_metadata\": {}, \"type\": \"human\", \"name\": null, \"id\": null, \"example\": false}]]", "mlflow.spanOutputs": "{\"generations\": [[{\"text\": \"To check if an Amazon SageMaker endpoint is KMS encrypted, you can follow these steps:\\n\\n1. Open the Amazon SageMaker console in your AWS Management Console.\\n2. Navigate to the \\\"Endpoints\\\" section under the \\\"Inference\\\" tab.\\n3. Select the endpoint that you want to check.\\n4. In the details section of the endpoint, look for the \\\"Production variants\\\" tab.\\n5. In the \\\"Production variants\\\" tab, select the variant that your endpoint is using.\\n6. In the details section of the variant, look for the \\\"Model artifacts\\\" or \\\"Data storage\\\" section.\\n7. If the \\\"KmsKeyId\\\" is specified and not blank, then the endpoint is KMS encrypted. The \\\"KmsKeyId\\\" could be in one of the following formats:\\n   - Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Alias name: alias/ExampleAlias\\n   - Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias\\n\\nIf the \\\"KmsKeyId\\\" is not specified or is blank, then the endpoint is not KMS encrypted. Instead, it might be using the default KMS key for Amazon S3 for your role's account.\\n\\nAdditionally, if you are using nitro-based instances with local storage, you cannot specify a \\\"KmsKeyId\\\" for the endpoint. In this case, if you see a \\\"KmsKeyId\\\" specified for the endpoint, it might indicate a configuration issue or an error in creating the endpoint.\", \"generation_info\": {\"finish_reason\": \"stop\", \"logprobs\": null}, \"type\": \"ChatGeneration\", \"message\": {\"content\": \"To check if an Amazon SageMaker endpoint is KMS encrypted, you can follow these steps:\\n\\n1. Open the Amazon SageMaker console in your AWS Management Console.\\n2. Navigate to the \\\"Endpoints\\\" section under the \\\"Inference\\\" tab.\\n3. Select the endpoint that you want to check.\\n4. In the details section of the endpoint, look for the \\\"Production variants\\\" tab.\\n5. In the \\\"Production variants\\\" tab, select the variant that your endpoint is using.\\n6. In the details section of the variant, look for the \\\"Model artifacts\\\" or \\\"Data storage\\\" section.\\n7. If the \\\"KmsKeyId\\\" is specified and not blank, then the endpoint is KMS encrypted. The \\\"KmsKeyId\\\" could be in one of the following formats:\\n   - Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Alias name: alias/ExampleAlias\\n   - Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias\\n\\nIf the \\\"KmsKeyId\\\" is not specified or is blank, then the endpoint is not KMS encrypted. Instead, it might be using the default KMS key for Amazon S3 for your role's account.\\n\\nAdditionally, if you are using nitro-based instances with local storage, you cannot specify a \\\"KmsKeyId\\\" for the endpoint. In this case, if you see a \\\"KmsKeyId\\\" specified for the endpoint, it might indicate a configuration issue or an error in creating the endpoint.\", \"additional_kwargs\": {}, \"response_metadata\": {\"token_usage\": {\"completion_tokens\": 453, \"prompt_tokens\": 1249, \"total_tokens\": 1702, \"completion_time\": 0.731737896, \"prompt_time\": 0.055071446, \"queue_time\": -0.010376899000000002, \"total_time\": 0.786809342}, \"model_name\": \"mixtral-8x7b-32768\", \"system_fingerprint\": \"fp_c5f20b5bb1\", \"finish_reason\": \"stop\", \"logprobs\": null}, \"type\": \"ai\", \"name\": null, \"id\": \"run-7de8ba9f-9037-4377-9132-424fa6fd360e-0\", \"example\": false, \"tool_calls\": [], \"invalid_tool_calls\": [], \"usage_metadata\": {\"input_tokens\": 1249, \"output_tokens\": 453, \"total_tokens\": 1702}}}]], \"llm_output\": {\"token_usage\": {\"completion_tokens\": 453, \"prompt_tokens\": 1249, \"total_tokens\": 1702, \"completion_time\": 0.731737896, \"prompt_time\": 0.055071446, \"queue_time\": -0.010376899000000002, \"total_time\": 0.786809342}, \"model_name\": \"mixtral-8x7b-32768\", \"system_fingerprint\": \"fp_c5f20b5bb1\"}, \"run\": null}"}, "events": []}], "request": "{\"query\": \"How to check if an endpoint is KMS encrypted?\", \"context\": [{\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-resource-sagemaker-endpointconfig.md\", \"_id\": \"fabb778c-b6bd-4d39-bfd0-9d6b99be7472\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The Amazon Resource Name (ARN) of an AWS Key Management Service key that Amazon SageMaker uses to encrypt data on the storage volume attached to the ML compute instance that hosts the endpoint. + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias The KMS key policy must grant permission to the IAM role that you specify in your CreateEndpoint, UpdateEndpoint requests. For more information, refer to the AWS Key Management Service section Using Key Policies in AWS KMS Certain Nitro-based instances include local storage, dependent on the instance type. Local storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-properties-sagemaker-endpointconfig-datacaptureconfig.md\", \"_id\": \"4a7605f8-efdc-4916-a99a-18a2be2256d9\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the captured data at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab Alias name: alias/ExampleAlias Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys (https://docs.aws.amazon.com/AmazonS3/latest/dev/UsingKMSEncryption.html) in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-resource-sagemaker-endpointconfig.md\", \"_id\": \"5cf80f30-d72d-4aaf-b2a5-efd3de022778\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"Local storage volumes are encrypted using a hardware module on the instance. You can't request a KmsKeyId when using an instance type with local storage. If any of the models that you specify in the ProductionVariants parameter use nitro-based instances with local storage, do not specify a value for the KmsKeyId parameter. If you specify a value for KmsKeyId when using any nitro-based instances with local storage, the call to CreateEndpointConfig fails. For a list of instance types that support local instance storage, see Instance Store Volumes. For more information about local instance storage encryption, see SSD Instance Store Volumes. Required: No Type: String Maximum: 2048 Pattern: .* Update requires: Replacement\", \"type\": \"Document\"}, {\"id\": null, \"metadata\": {\"source\": \"./data/sagemaker_documentation/aws-properties-sagemaker-modelpackage-transformoutput.md\", \"_id\": \"73c3e027-2392-4543-91af-52b343b54d10\", \"_collection_name\": \"sagemaker_documentation_v2\"}, \"page_content\": \"KmsKeyId The AWS Key Management Service (AWS KMS) key that Amazon SageMaker uses to encrypt the model artifacts at rest using Amazon S3 server-side encryption. The KmsKeyId can be any of the following formats: + Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab + Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab + Alias name: alias/ExampleAlias + Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias If you don't provide a KMS key ID, Amazon SageMaker uses the default KMS key for Amazon S3 for your role's account. For more information, see KMS-Managed Encryption Keys in the Amazon Simple Storage Service Developer Guide. The KMS key policy must grant permission to the IAM role that you specify in your CreateModel request. For more information, see Using Key Policies in AWS KMS in the * AWS Key Management Service Developer Guide. Required: No\", \"type\": \"Document\"}]}", "response": "{\"result\": \"To check if an Amazon SageMaker endpoint is KMS encrypted, you can follow these steps:\\n\\n1. Open the Amazon SageMaker console in your AWS Management Console.\\n2. Navigate to the \\\"Endpoints\\\" section under the \\\"Inference\\\" tab.\\n3. Select the endpoint that you want to check.\\n4. In the details section of the endpoint, look for the \\\"Production variants\\\" tab.\\n5. In the \\\"Production variants\\\" tab, select the variant that your endpoint is using.\\n6. In the details section of the variant, look for the \\\"Model artifacts\\\" or \\\"Data storage\\\" section.\\n7. If the \\\"KmsKeyId\\\" is specified and not blank, then the endpoint is KMS encrypted. The \\\"KmsKeyId\\\" could be in one of the following formats:\\n   - Key ID: 1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Key ARN: arn:aws:kms:us-west-2:111122223333:key/1234abcd-12ab-34cd-56ef-1234567890ab\\n   - Alias name: alias/ExampleAlias\\n   - Alias name ARN: arn:aws:kms:us-west-2:111122223333:alias/ExampleAlias\\n\\nIf the \\\"KmsKeyId\\\" is not specified or is blank, then the endpoint is not KMS encrypted. Instead, it might be using the default KMS key for Amazon S3 for your role's account.\\n\\nAdditionally, if you are using nitro-based instances with local storage, you cannot specify a \\\"KmsKeyId\\\" for the endpoint. In this case, if you see a \\\"KmsKeyId\\\" specified for the endpoint, it might indicate a configuration issue or an error in creating the endpoint.\"}"}